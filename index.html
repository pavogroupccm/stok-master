<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>2. SÄ±nÄ±f AkÄ±llÄ± Ã–ÄŸretmen ğŸ“</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Fredoka+One&family=Nunito:wght@600;800&display=swap');

        :root {
            --primary: #4834d4;
            --secondary: #686de0;
            --success: #6ab04c;
            --warning: #f0932b;
            --danger: #eb4d4b;
            --bg: #f7f1e3;
            --board: #2d3436;
        }

        body {
            font-family: 'Fredoka One', cursive;
            background: var(--bg);
            margin: 0;
            height: 100vh;
            display: flex;
            overflow: hidden;
            user-select: none;
        }

        /* --- SOL MENÃœ (Ã–ÄŸrenci Paneli) --- */
        .sidebar {
            width: 280px;
            background: white;
            padding: 20px;
            display: flex;
            flex-direction: column;
            gap: 15px;
            box-shadow: 5px 0 15px rgba(0,0,0,0.05);
            z-index: 2;
        }

        .profile-card {
            background: var(--primary);
            color: white;
            padding: 20px;
            border-radius: 20px;
            text-align: center;
            margin-bottom: 20px;
        }

        .avatar { font-size: 3rem; display: block; margin-bottom: 10px; }
        .progress-text { font-family: 'Nunito', sans-serif; font-size: 0.9rem; opacity: 0.9; }

        .nav-btn {
            padding: 18px;
            border: 2px solid #f1f2f6;
            background: white;
            border-radius: 15px;
            font-family: 'Nunito', sans-serif;
            font-weight: 800;
            font-size: 1.1rem;
            color: #636e72;
            cursor: pointer;
            transition: 0.3s;
            text-align: left;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .nav-btn:hover { background: #f1f2f6; transform: translateX(5px); }
        .nav-btn.active { 
            background: var(--secondary); 
            color: white; 
            border-color: var(--secondary);
            box-shadow: 0 5px 15px rgba(104, 109, 224, 0.4);
        }

        /* --- SAÄ Ä°Ã‡ERÄ°K (Tahta) --- */
        .main-stage {
            flex: 1;
            padding: 30px;
            display: flex;
            justify-content: center;
            align-items: center;
            position: relative;
            background-image: radial-gradient(#d1ccc0 10%, transparent 11%);
            background-size: 20px 20px;
        }

        /* MATEMATÄ°K DEFTERÄ° GÃ–RÃœNÃœMÃœ */
        .math-board {
            background: white;
            padding: 40px 60px;
            border-radius: 30px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.1);
            border: 6px solid var(--board);
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        .hint-text {
            color: var(--warning);
            font-family: 'Nunito', sans-serif;
            font-size: 1.2rem;
            margin-bottom: 15px;
            min-height: 25px;
        }

        .math-grid {
            display: grid;
            grid-template-columns: 60px 80px 80px; /* Ä°ÅŸaret, Onlar, Birler */
            gap: 10px;
            justify-items: center;
            align-items: center;
            position: relative;
        }

        /* Elde Var Kutusu (Pedagojik Ekleme) */
        .carry-box {
            width: 40px;
            height: 40px;
            border: 2px dashed #b2bec3;
            border-radius: 8px;
            text-align: center;
            font-size: 1.5rem;
            color: var(--danger);
            grid-column: 2 / 3; /* Onlar basamaÄŸÄ±nÄ±n Ã¼stÃ¼ */
            margin-bottom: 5px;
        }
        .carry-label {
            grid-column: 1 / 2;
            font-size: 0.8rem;
            color: #b2bec3;
            text-align: right;
            font-family: 'Nunito', sans-serif;
        }

        .digit { font-size: 5rem; color: var(--board); font-weight: 400; }
        .operator { font-size: 4rem; color: var(--warning); }
        .line { grid-column: 1 / 4; width: 100%; height: 6px; background: var(--board); border-radius: 3px; }

        /* Cevap KutularÄ± */
        .ans-input {
            width: 70px;
            height: 90px;
            font-size: 4rem;
            text-align: center;
            border: 3px solid #dfe6e9;
            border-radius: 12px;
            font-family: 'Fredoka One', cursive;
            color: var(--primary);
            outline: none;
            transition: 0.3s;
        }
        .ans-input:focus { border-color: var(--primary); background: #fdfbfb; }
        .ans-input.error { border-color: var(--danger); background: #ffeaea; animation: shake 0.4s; }
        .ans-input.success { border-color: var(--success); background: #badc58; color: white; }

        /* SÃ–ZEL KART TASARIMI */
        .verbal-card {
            background: white;
            width: 100%;
            max-width: 800px;
            padding: 40px;
            border-radius: 25px;
            box-shadow: 0 15px 40px rgba(0,0,0,0.1);
            text-align: center;
            display: none;
        }

        .q-badge {
            background: var(--warning);
            color: white;
            padding: 5px 15px;
            border-radius: 20px;
            font-size: 1rem;
            font-family: 'Nunito', sans-serif;
            display: inline-block;
            margin-bottom: 15px;
        }

        .q-text { font-size: 2rem; color: var(--board); margin-bottom: 30px; }

        .opt-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; }
        
        .opt-btn {
            padding: 20px;
            background: #f1f2f6;
            border: none;
            border-radius: 15px;
            font-size: 1.3rem;
            font-family: 'Nunito', sans-serif;
            font-weight: 700;
            color: #636e72;
            cursor: pointer;
            transition: 0.2s;
            box-shadow: 0 4px 0 #dfe6e9;
        }
        .opt-btn:hover { background: #74b9ff; color: white; transform: translateY(-3px); }
        .opt-btn:active { transform: translateY(2px); box-shadow: none; }

        /* ORTAK BUTON */
        .check-btn {
            margin-top: 25px;
            padding: 15px 60px;
            font-size: 1.4rem;
            background: var(--success);
            color: white;
            border: none;
            border-radius: 50px;
            cursor: pointer;
            box-shadow: 0 6px 0 #44bd32;
            font-family: inherit;
            transition: 0.2s;
        }
        .check-btn:active { transform: translateY(4px); box-shadow: 0 2px 0 #44bd32; }

        /* SONUÃ‡ EKRANI (KARNE) */
        .report-card {
            position: absolute;
            background: rgba(255,255,255,0.98);
            width: 100%;
            height: 100%;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            z-index: 10;
            display: none;
        }

        @keyframes shake { 0%, 100% {transform: translateX(0);} 25% {transform: translateX(-5px);} 75% {transform: translateX(5px);} }

    </style>
</head>
<body>

    <div class="sidebar">
        <div class="profile-card">
            <span class="avatar">ğŸ‘¨â€ğŸ“</span>
            <div style="font-size: 1.4rem;">Merhaba Åampiyon!</div>
            <div class="progress-text">Soru: <span id="currentQNum">1</span> / 10</div>
            <div class="progress-text">Puan: <span id="totalScore">0</span></div>
        </div>

        <button class="nav-btn active" onclick="loadModule('math')">ğŸ§® Matematik</button>
        <button class="nav-btn" onclick="loadModule('turkce')">ğŸ“š TÃ¼rkÃ§e</button>
        <button class="nav-btn" onclick="loadModule('hayat')">ğŸŒ Hayat Bilgisi</button>
        <button class="nav-btn" onclick="loadModule('english')">ğŸ‡¬ğŸ‡§ English</button>
    </div>

    <div class="main-stage">
        
        <div id="mathModule" class="math-board">
            <div id="mathHint" class="hint-text"></div>
            
            <div class="math-grid">
                <div class="carry-label">Elde? ğŸ‘‰</div>
                <input type="number" class="carry-box" placeholder="?">
                <div></div> <div></div>
                <div id="n1Tens" class="digit">0</div>
                <div id="n1Ones" class="digit">0</div>

                <div id="mathOp" class="operator">+</div>
                <div id="n2Tens" class="digit">0</div>
                <div id="n2Ones" class="digit">0</div>

                <div class="line"></div>

                <div></div>
                <input type="number" id="ansTens" class="ans-input" maxlength="1">
                <input type="number" id="ansOnes" class="ans-input" maxlength="1">
            </div>

            <button class="check-btn" onclick="checkMath()">KONTROL ET</button>
        </div>

        <div id="verbalModule" class="verbal-card">
            <span id="qBadge" class="q-badge">Konu</span>
            <div id="qText" class="q-text">Soru...</div>
            <div id="optGrid" class="opt-grid"></div>
        </div>

        <div id="reportCard" class="report-card">
            <h1 style="font-size: 4rem; color: var(--primary); margin:0;">Tebrikler! ğŸ‰</h1>
            <h2 style="color: #636e72;">Ders Bitti</h2>
            <div style="font-size: 2rem; margin: 20px;">Toplam Puan: <span id="finalScore">0</span></div>
            <button class="check-btn" onclick="location.reload()">YENÄ°DEN BAÅLA</button>
        </div>

    </div>

    <script>
        /* --- EÄÄ°TÄ°MCÄ° VERÄ°TABANI ---
           Sorular 2. sÄ±nÄ±f kazanÄ±mlarÄ±na gÃ¶re kategorize edildi.
        */
        const curriculum = {
            turkce: [
                { cat: "EÅŸ Anlam", q: "Doktor hastasÄ±na ilaÃ§ yazdÄ±. 'Doktor' yerine hangisi gelebilir?", opts: ["Hekim", "HemÅŸire", "EczacÄ±"], a: "Hekim" },
                { cat: "YazÄ±m KuralÄ±", q: "Hangi cÃ¼mle BÃœYÃœK harfle baÅŸlamamÄ±ÅŸ?", opts: ["okula gittim.", "Ali geldi.", "Sabah oldu."], a: "okula gittim." },
                { cat: "ZÄ±t Anlam", q: "Ã‡antam Ã§ok 'aÄŸÄ±r'. ZÄ±ttÄ± nedir?", opts: ["Hafif", "BÃ¼yÃ¼k", "Dolu"], a: "Hafif" },
                { cat: "Noktalama", q: "Eyvah, sÃ¼t dÃ¶kÃ¼ldÃ¼( ) Parantez iÃ§ine ne gelmeli?", opts: ["Ãœnlem (!)", "Soru (?)", "Nokta (.)"], a: "Ãœnlem (!)" },
                { cat: "5N 1K", q: "Ali, dÃ¼n parka gitti. Ali nereye gitti?", opts: ["Parka", "Eve", "Okula"], a: "Parka" }
            ],
            hayat: [
                { cat: "Okul KÃ¼ltÃ¼rÃ¼", q: "SÄ±nÄ±fa girerken ne deriz?", opts: ["GÃ¼naydÄ±n", "GÃ¶rÃ¼ÅŸÃ¼rÃ¼z", "Bana ne"], a: "GÃ¼naydÄ±n" },
                { cat: "SaÄŸlÄ±k", q: "Hangisi kÄ±ÅŸ meyvesidir?", opts: ["Portakal", "Karpuz", "Kiraz"], a: "Portakal" },
                { cat: "GÃ¼venlik", q: "TanÄ±madÄ±ÄŸÄ±mÄ±z biri bize ÅŸeker verirse ne yapmalÄ±yÄ±z?", opts: ["AlmamalÄ±yÄ±z", "TeÅŸekkÃ¼r etmeliyiz", "Yemeliyiz"], a: "AlmamalÄ±yÄ±z" },
                { cat: "Milli DeÄŸerler", q: "Ä°stiklal MarÅŸÄ± okunurken ne yaparÄ±z?", opts: ["HazÄ±rolda dururuz", "KonuÅŸuruz", "Otururuz"], a: "HazÄ±rolda dururuz" }
            ],
            english: [
                { cat: "Numbers", q: "Two + Two = ?", opts: ["Four", "Five", "Three"], a: "Four" },
                { cat: "Colors", q: "GÃ¼neÅŸ ne renktir? (Yellow)", opts: ["Yellow", "Red", "Blue"], a: "Yellow" },
                { cat: "Family", q: "Mother ne demektir?", opts: ["Anne", "Baba", "KardeÅŸ"], a: "Anne" },
                { cat: "Animals", q: "Hav hav! Hangi hayvandÄ±r?", opts: ["Dog", "Cat", "Bird"], a: "Dog" }
            ]
        };

        // --- OYUN DEÄÄ°ÅKENLERÄ° ---
        let state = {
            module: 'math',
            qCount: 1,
            score: 0,
            mathResult: 0,
            verbalAns: ""
        };

        // --- BAÅLANGIÃ‡ ---
        window.onload = () => loadModule('math');

        function loadModule(mod) {
            state.module = mod;
            state.qCount = 1;
            state.score = 0;
            updateUI();
            
            // MenÃ¼ aktifliÄŸi
            document.querySelectorAll('.nav-btn').forEach(b => b.classList.remove('active'));
            event.target.classList.add('active'); // Not: event.target bazen child element olabilir ama bu basit yapÄ±da Ã§alÄ±ÅŸÄ±r.

            // Panel deÄŸiÅŸimi
            document.getElementById('mathModule').style.display = (mod === 'math') ? 'flex' : 'none';
            document.getElementById('verbalModule').style.display = (mod !== 'math') ? 'block' : 'none';

            nextQuestion();
        }

        function nextQuestion() {
            if (state.qCount > 10) {
                showReport();
                return;
            }
            
            document.getElementById('currentQNum').innerText = state.qCount;

            if (state.module === 'math') generateMath();
            else generateVerbal();
        }

        // --- PEDAGOJÄ°K MATEMATÄ°K MOTORU ---
        function generateMath() {
            // Temizlik
            document.getElementById('ansTens').value = "";
            document.getElementById('ansOnes').value = "";
            document.querySelector('.carry-box').value = "";
            document.getElementById('mathHint').innerText = "";
            document.querySelectorAll('.ans-input').forEach(i => i.className = 'ans-input');

            // Seviyeye gÃ¶re soru (Eldeli toplama / Onluk bozarak Ã§Ä±karma ihtimalini artÄ±rÄ±yoruz)
            let n1 = Math.floor(Math.random() * 40) + 15; // 15-55 arasÄ±
            let n2 = Math.floor(Math.random() * 25) + 5;  // 5-30 arasÄ±
            let op = Math.random() < 0.5 ? '+' : '-';

            // Ã‡Ä±karma iÃ§in dÃ¼zenleme (Negatif Ã§Ä±kmasÄ±n)
            if (op === '-') {
                if (n1 < n2) [n1, n2] = [n2, n1];
                // Pedagojik dokunuÅŸ: Onluk bozma gerektiren soru ÅŸansÄ±nÄ± artÄ±r
                // EÄŸer birler basamaÄŸÄ± n1 < n2 ise onluk bozma gerekir.
            }

            state.mathResult = (op === '+') ? n1 + n2 : n1 - n2;

            // GÃ¶rselleÅŸtirme
            drawNumber('n1', n1);
            drawNumber('n2', n2);
            document.getElementById('mathOp').innerText = op;
        }

        function drawNumber(prefix, num) {
            let s = num.toString().padStart(2, '0');
            document.getElementById(prefix + 'Tens').innerText = s[0] === '0' ? '' : s[0];
            document.getElementById(prefix + 'Ones').innerText = s[1];
        }

        function checkMath() {
            const tVal = document.getElementById('ansTens').value || "0";
            const oVal = document.getElementById('ansOnes').value;
            const hintBox = document.getElementById('mathHint');

            if (oVal === "") {
                hintBox.innerText = "Ã–nce birler basamaÄŸÄ±nÄ± yazmalÄ±sÄ±n! ğŸ‘‡";
                return;
            }

            const userRes = parseInt(tVal + oVal);
            const realRes = state.mathResult;

            // ANALÄ°TÄ°K GERÄ° BÄ°LDÄ°RÄ°M
            if (userRes === realRes) {
                // DoÄŸru
                document.getElementById('ansTens').classList.add('success');
                document.getElementById('ansOnes').classList.add('success');
                hintBox.innerText = "Harika! DoÄŸru yaptÄ±n! ğŸŒŸ";
                hintBox.style.color = "#6ab04c";
                state.score += 10;
                updateUI();
                setTimeout(() => { state.qCount++; nextQuestion(); }, 1500);
            } else {
                // YanlÄ±ÅŸ Analizi
                const realOnes = realRes % 10;
                const userOnes = parseInt(oVal);
                
                document.getElementById('ansTens').classList.add('error');
                document.getElementById('ansOnes').classList.add('error');
                hintBox.style.color = "#eb4d4b";

                if (userOnes === realOnes) {
                    hintBox.innerText = "Birler basamaÄŸÄ±n doÄŸru ama onlar basamaÄŸÄ±na dikkat! Eldeyi unuttun mu? ğŸ¤”";
                } else {
                    hintBox.innerText = "Ã–nce birler basamaÄŸÄ±nÄ± tekrar hesaplayalÄ±m. ParmaklarÄ±nÄ± kullanabilirsin! ğŸ–ï¸";
                }
            }
        }

        // --- SÃ–ZEL MOTOR ---
        function generateVerbal() {
            const pool = curriculum[state.module];
            const q = pool[Math.floor(Math.random() * pool.length)];
            state.verbalAns = q.a;

            document.getElementById('qBadge').innerText = q.cat;
            document.getElementById('qText').innerText = q.q;

            const grid = document.getElementById('optGrid');
            grid.innerHTML = "";
            
            [...q.opts].sort(() => Math.random() - 0.5).forEach(opt => {
                const btn = document.createElement('button');
                btn.className = 'opt-btn';
                btn.innerText = opt;
                btn.onclick = () => checkVerbal(opt, btn);
                grid.appendChild(btn);
            });
        }

        function checkVerbal(ans, btnElement) {
            if (ans === state.verbalAns) {
                btnElement.style.background = "#badc58"; // YeÅŸil
                btnElement.style.color = "white";
                state.score += 10;
                updateUI();
                setTimeout(() => { state.qCount++; nextQuestion(); }, 1000);
            } else {
                btnElement.style.background = "#ff7979"; // KÄ±rmÄ±zÄ±
                btnElement.style.color = "white";
                btnElement.innerText = "Tekrar dene ğŸ˜”";
            }
        }

        function updateUI() {
            document.getElementById('totalScore').innerText = state.score;
        }

        function showReport() {
            document.getElementById('reportCard').style.display = 'flex';
            document.getElementById('finalScore').innerText = state.score;
        }

    </script>
</body>
</html>
